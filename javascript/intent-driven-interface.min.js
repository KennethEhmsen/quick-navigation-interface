// todo setup grunt to minify this automatically

var IntentDrivenInterface = ( function( $ ) {
	/**
	 * Initialization that runs as soon as this file has loaded
	 *
	 * @param {object} initOptions
	 */
	function construct( initOptions ) {
		options = initOptions;

		// todo cna move try/catch to the caller outside the class?

		try {
			$( window ).keyup( revealInterface );
			$( '#idi-search' ).keyup( showRelevantLinks );
		} catch ( exception ) {
			if ( window.console ) {
				console.log( 'IntentDrivenInterface exception: ', exception );
			}
		}
	}

	/**
	 * Reveal the interface when the user presses the shortcut
	 *
	 * @param {object} event
	 */
	function revealInterface( event ) {
		if ( true ) {	// todo if options.shortcut
			$( '#idi-container' ).addClass( 'idi-active' );
		}
	}

	/**
	 * Show relevant links based on the user's query
	 *
	 * @param {object} event
	 */
	function showRelevantLinks ( event ) {
		$( '#idi-instructions' ).addClass( 'idi-active' );
		$( '#idi-menu' ).addClass( 'idi-active' );

		console.log( event );
	}

	/*
	 * Reveal public methods
	 */
	return {
		construct : construct
	};
} )( jQuery );

IntentDrivenInterface.construct( idiOptions );
